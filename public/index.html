<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solana 金狗监控</title>

    <!-- 添加favicon设置 -->
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='10' fill='white' stroke='black' stroke-width='1.5'/><path d='M6 12h12' stroke='black' stroke-width='2.5' stroke-linecap='round'/><path d='M12 2C16.4183 2 20 5.58172 20 10C20 14.4183 16.4183 18 12 18' fill='none' stroke='black' stroke-width='1.5' opacity='0.7'/><path d='M12 22C7.58172 22 4 18.4183 4 14C4 9.58172 7.58172 6 12 6' fill='none' stroke='black' stroke-width='1.5' opacity='0.7'/><circle cx='12' cy='8' r='1' fill='black' opacity='0.8'/><circle cx='12' cy='16' r='1' fill='black' opacity='0.8'/></svg>">

    <!-- 为了兼容性，添加其他格式的favicon -->
    <link rel="shortcut icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='10' fill='white' stroke='black' stroke-width='1.5'/><path d='M6 12h12' stroke='black' stroke-width='2.5' stroke-linecap='round'/><path d='M12 2C16.4183 2 20 5.58172 20 10C20 14.4183 16.4183 18 12 18' fill='none' stroke='black' stroke-width='1.5' opacity='0.7'/><path d='M12 22C7.58172 22 4 18.4183 4 14C4 9.58172 7.58172 6 12 6' fill='none' stroke='black' stroke-width='1.5' opacity='0.7'/><circle cx='12' cy='8' r='1' fill='black' opacity='0.8'/><circle cx='12' cy='16' r='1' fill='black' opacity='0.8'/></svg>">

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body class="bg-gray-100">
    <div id="app">
        <!-- 新增固定导航栏 -->
        <nav class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50">
            <div class="container mx-auto px-4">
                <div class="flex flex-wrap items-center justify-between h-auto py-2 lg:h-16">
                    <!-- Logo区域 -->
                    <div class="flex items-center space-x-3">
                        <div class="flex-shrink-0">
                            <!-- Logo图标 -->
                            <svg class="w-8 h-8" viewBox="0 0 24 24">
                                <!-- 背景圆形 - 类似太极的容器 -->
                                <circle cx="12" cy="12" r="10" fill="white" stroke="black" stroke-width="1.5" />

                                <!-- 中心的"一"字 - 实心黑色 -->
                                <path d="M6 12h12" stroke="black" stroke-width="2.5" stroke-linecap="round" />

                                <!-- 上部阴阳分割线 -->
                                <path d="M12 2C16.4183 2 20 5.58172 20 10C20 14.4183 16.4183 18 12 18" fill="none"
                                    stroke="black" stroke-width="1.5" opacity="0.7" />

                                <!-- 下部阴阳分割线 -->
                                <path d="M12 22C7.58172 22 4 18.4183 4 14C4 9.58172 7.58172 6 12 6" fill="none"
                                    stroke="black" stroke-width="1.5" opacity="0.7" />

                                <!-- 两个小圆点 - 象征阴阳鱼眼 -->
                                <circle cx="12" cy="8" r="1" fill="black" opacity="0.8" />
                                <circle cx="12" cy="16" r="1" fill="black" opacity="0.8" />
                            </svg>
                        </div>
                        <div class="flex flex-col">
                            <h1 class="text-xl font-bold text-gray-800">Solana 金狗监控</h1>
                            <span class="text-xs text-gray-500">实时监控SOL · 快速发现金狗</span>
                        </div>
                    </div>

                    <!-- 右侧工具栏 - 修改为响应式布局 -->
                    <div class="flex flex-wrap items-center gap-4 mt-2 lg:mt-0">
                        <!-- 在线人数 -->
                        <span class="text-base lg:text-lg text-gray-500 whitespace-nowrap">
                            <span class="mr-1">当前在线:</span>
                            <span class="font-medium">{{ onlineUsers }}</span>
                        </span>

                        <!-- 打狗机器人按钮区域 -->
                        <div class="flex flex-wrap items-center gap-2">
                            <!-- 机器人按钮组 -->
                            <div class="flex items-center gap-2">
                                <a href="https://t.me/pepeboost_sol07_bot?start=ref_0d8l4n"
                                    class="inline-flex items-center px-3 py-1 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors text-sm whitespace-nowrap">
                                    <img src="./images/pepe-icon.png" class="w-4 h-4 mr-1" alt="Pepe Bot">
                                    Pepe Bot
                                </a>
                                <a href="https://t.me/dogeebot_bot?start=invite-17330534430421"
                                    style="background-color: #f97316;"
                                    class="inline-flex items-center px-3 py-1 text-white rounded-full hover:bg-orange-600 transition-colors text-sm whitespace-nowrap">
                                    <img src="./images/dogee-icon.png" class="w-4 h-4 mr-1" alt="Dogee Bot">
                                    Dogee Bot
                                </a>
                            </div>

                            <!-- TG群按钮 - 在小屏幕隐藏 -->
                            <a href="https://t.me/+XTLZdJ4vVU83Nzk9" target="_blank"
                                class="hidden lg:inline-flex items-center px-3 py-1 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors text-sm whitespace-nowrap">
                                <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z" />
                                </svg>
                                加入TG群
                            </a>
                            <!-- 帮助文档按钮 - 在小屏幕隐藏 -->
                            <a href="https://www.yuque.com/yixiao-vmumk/hec3ny/se9uy3iwfu43u26z?singleDoc# 《新手扫链教程》"
                                target="_blank"
                                class="hidden lg:inline-flex items-center px-3 py-1 bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 transition-colors text-sm whitespace-nowrap">
                                <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2zm0 4h2v6h-2z" />
                                </svg>
                                新手扫链教程
                            </a>
                            <!-- 支持作者按钮 - 在小屏幕隐藏 -->
                            <button @click="showDonateModal = true"
                                class="hidden lg:inline-flex items-center px-3 py-1 bg-white text-gray-700 rounded-full hover:bg-gray-100 transition-colors text-sm whitespace-nowrap border border-gray-300">
                                <svg class="w-4 h-4 mr-1 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" />
                                </svg>
                                支持作者
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- 为固定导航栏添加间距 -->
        <div class="pt-24 lg:pt-20">
            <!-- 复制成功提示 -->
            <div class="fixed inset-x-0 top-24 lg:top-20 flex justify-center z-50">
                <!-- 复制成功提示 -->
                <transition name="slide-fade">
                    <div v-if="showCopyMessage" class="message-popup mt-2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-2 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <span>复制成功</span>
                        </div>
                    </div>
                </transition>

                <!-- 新增操作提示 -->
                <transition name="slide-fade">
                    <div v-if="showActionMessage" 
                        class="message-popup mt-2 px-6 py-3 rounded-lg shadow-lg"
                        :class="{
                            'bg-green-500 text-white': actionMessageType === 'success',
                            'bg-red-500 text-white': actionMessageType === 'error'
                        }">
                        <div class="flex items-center">
                            <svg v-if="actionMessageType === 'success'" class="w-5 h-5 mr-2 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                            <svg v-else class="w-5 h-5 mr-2 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span>{{ actionMessage }}</span>
                        </div>
                    </div>
                </transition>
            </div>

            <!-- 主要内容区域 - 调整内边距 -->
            <div class="px-4 py-4">
                <!-- 调整为左右布局，添加响应式类 -->
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- 左侧主要代币列表 -->
                    <div class="flex-1 min-w-0">
                        <!-- 标签页 -->
                        <div class="mb-4 border-b border-gray-200">
                            <ul class="flex flex-wrap -mb-px">
                                <li class="mr-2">
                                    <button @click="switchTab('all')" :class="[
                                                'inline-block py-2 px-4 text-sm font-medium rounded-t-lg',
                                                activeTab === 'all' 
                                                    ? 'text-blue-600 border-b-2 border-blue-600' 
                                                    : 'text-gray-500 hover:text-gray-600 hover:border-gray-300'
                                            ]">
                                        所有代币
                                    </button>
                                </li>
                                <li class="mr-2">
                                    <button @click="switchTab('duplicates')" :class="[
                                                'inline-block py-2 px-4 text-sm font-medium rounded-t-lg',
                                                activeTab === 'duplicates'
                                                    ? 'text-blue-600 border-b-2 border-blue-600'
                                                    : 'text-gray-500 hover:text-gray-600 hover:border-gray-300'
                                            ]">
                                        重复代币
                                    </button>
                                </li>
                            </ul>
                        </div>

                        <!-- 搜索框 -->
                        <div class="mb-4 flex items-center space-x-4">
                            <div class="relative flex-1">
                                <input type="text" v-model="searchQuery" @keyup.enter="performSearch"
                                    placeholder="输入代币符号或地址进行搜索"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <button @click="clearSearch" v-if="isSearchActive"
                                    class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                            <button @click="performSearch"
                                class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                                搜索
                            </button>
                        </div>

                        <!-- 结果显示 -->
                        <div v-if="isSearchActive" class="mb-4 flex justify-between items-center">
                            <div class="text-sm text-gray-600">
                                搜索结果: 找到 {{ searchTotal }} 个匹配项
                            </div>
                            <button @click="clearSearch" class="text-sm text-blue-500 hover:text-blue-600">
                                返回所有代币
                            </button>
                        </div>

                        <!-- 加载和错误提示 -->
                        <div class="mb-4">
                            <div v-if="loading" class="text-center py-4">
                                <svg class="animate-spin h-5 w-5 mx-auto text-blue-500"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                    </path>
                                </svg>
                                <p class="mt-2 text-gray-600">加载中...</p>
                            </div>

                            <div v-if="error"
                                class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
                                role="alert">
                                <strong class="font-bold">错误！</strong>
                                <span class="block sm:inline">{{ error }}</span>
                                <button @click="retryFetch" class="ml-4 text-sm underline">重试</button>
                            </div>
                        </div>

                        <!-- 币列表表格 -->
                        <div class="overflow-auto" ref="tableContainer">
                            <div v-if="!loading && !error" class="bg-white rounded-lg shadow">
                                <!-- 当没有数据时显示提示信息 -->
                                <div v-if="displayedTokens.length === 0" class="p-8 text-center">
                                    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    <h3 class="mt-2 text-sm font-medium text-gray-900">暂无数据</h3>
                                    <p class="mt-1 text-sm text-gray-500">
                                        {{ isSearchActive ? '没有找到匹配的搜索结果' : '当前没有显示的代币数据' }}
                                    </p>
                                    <div class="mt-6" v-if="isSearchActive">
                                        <button @click="clearSearch"
                                            class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                            <svg class="mr-2 -ml-1 h-5 w-5" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                            </svg>
                                            返回所有代币
                                        </button>
                                    </div>
                                </div>

                                <!-- 有数据时显示的表格 -->
                                <div class="token-list-container">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>

                                                <th scope="col"
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    代币符号
                                                </th>
                                                <th scope="col"
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    代币地址
                                                </th>
                                                <th scope="col"
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    DEV 地址
                                                </th>
                                                <th scope="col"
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    创建时间
                                                </th>
                                                <th scope="col"
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    社交媒体
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr v-for="token in displayedTokens" :key="token.mint"
                                                :class="getDuplicateColor(token)">
                                                <!-- 代币符号 -->
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center cursor-pointer"
                                                        @click="copyText(token.symbol)"
                                                        :title="'点击复制: ' + token.symbol">
                                                        <div class="flex-shrink-0 h-10 w-10">
                                                            <img v-if="token.metadata?.image"
                                                                :src="token.metadata.image"
                                                                class="h-10 w-10 rounded-full" :alt="token.name"
                                                                loading="lazy" @error="handleImageError($event, token)">
                                                            <div v-else
                                                                class="h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center">
                                                                <span class="text-sm text-gray-500">{{
                                                                    getInitials(token.name) }}</span>
                                                            </div>
                                                        </div>
                                                        <div class="ml-4">
                                                            <div
                                                                class="text-sm font-medium text-gray-900 hover:text-blue-600">
                                                                {{ token.symbol || '未知' }}
                                                            </div>
                                                            <!-- 移除代币名称显示 -->
                                                            <!-- <div class="text-sm text-gray-500">
                                                                {{ token.name || '未知' }}
                                                            </div> -->
                                                        </div>
                                                    </div>
                                                </td>

                                                <!-- 代币地址 -->
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="text-blue-600 cursor-pointer hover:text-blue-800"
                                                            @click="copyText(token.mint)"
                                                            :title="'点击复制: ' + token.mint">
                                                            {{ formatAddress(token.mint) }}
                                                        </div>

                                                        <!-- 查看按钮组 -->
                                                        <div class="flex items-center space-x-1">
                                                            <!-- GMGN 按钮 -->
                                                            <a :href="'https://gmgn.ai/sol/token/' + token.mint"
                                                                target="_blank" 
                                                                class="inline-flex items-center justify-center w-5 h-5 min-w-[20px] min-h-[20px] rounded-full bg-gray-100 hover:bg-gray-200 transition-colors"
                                                                title="在 GMGN 中查看">
                                                                <img src="/images/gmgn.png" alt="GMGN"
                                                                    class="w-4 h-4 rounded-full"
                                                                    @error="$event.target.src='/images/gmgn-fallback.png'">
                                                            </a>

                                                            <!-- 推特搜索按钮 -->
                                                            <a :href="'https://x.com/search?q=' + token.mint"
                                                                target="_blank" 
                                                                class="inline-flex items-center justify-center w-5 h-5 min-w-[20px] min-h-[20px] rounded-full bg-blue-100 hover:bg-blue-200 transition-colors"
                                                                title="在 Twitter 中搜索">
                                                                <img src="/images/x.png" alt="X" class="w-4 h-4">
                                                            </a>
                                                        </div>
                                                    </div>
                                                </td>

                                                <!-- 持币人数 -->
                                                <!-- <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="holders-count" @click="updateHoldersCount(token.mint)">
                                                        <span class="number">{{ token.holdersCount || '0' }}</span>
                                                        <span class="update-icon" title="点击更新">↻</span>
                                                    </div>
                                                </td> -->

                                                <!-- DEV 地址 -->
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center space-x-2">
                                                        <div class="text-blue-600 cursor-pointer hover:text-blue-800"
                                                            @click="copyText(token.signer)"
                                                            :title="'点击复制: ' + token.signer">
                                                            {{ formatAddress(token.signer) }}
                                                        </div>
                                                        <!-- 移除 Solscan 按钮 -->
                                                        <!-- <a :href="'https://solscan.io/account/' + token.signer" 
                                                           target="_blank"
                                                           class="icon-button"
                                                           title="在 Solscan 查看"
                                                           v-if="false">
                                                            <svg class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
                                                                <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
                                                                <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
                                                            </svg>
                                                        </a> -->
                                                    </div>
                                                </td>

                                                <!-- 创建时间 -->
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="time-container text-gray-500">
                                                        <div class="date">{{ formatDate(token.timestamp) }}</div>
                                                        <div class="time">{{ formatTime(token.timestamp) }}</div>
                                                    </div>
                                                </td>

                                                <!-- 社交媒体 -->
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <div class="flex items-center space-x-2">
                                                        <!-- 推特链接 -->
                                                        <a v-if="token.metadata?.twitter" :href="token.metadata.twitter"
                                                            target="_blank" class="social-link inline-flex items-center"
                                                            :class="checkTwitterLink(token.metadata.twitter)">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">推特</span>
                                                        </a>

                                                        <!-- 电报链接 -->
                                                        <a v-if="token.metadata?.telegram"
                                                            :href="token.metadata.telegram" target="_blank"
                                                            class="social-link inline-flex items-center text-blue-500 hover:text-blue-600">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">电报</span>
                                                        </a>

                                                        <!-- 网站链接 -->
                                                        <a v-if="token.metadata?.website" :href="token.metadata.website"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-gray-500 hover:text-gray-600">
                                                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                                    stroke-width="2"
                                                                    d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                                                            </svg>
                                                            <span class="text-xs ml-1">网站</span>
                                                        </a>

                                                        <!-- Discord链接 -->
                                                        <a v-if="token.metadata?.discord" :href="token.metadata.discord"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-indigo-500 hover:text-indigo-600">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">Discord</span>
                                                        </a>

                                                        <!-- Medium链接 -->
                                                        <a v-if="token.metadata?.medium" :href="token.metadata.medium"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-gray-700 hover:text-gray-900">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">Medium</span>
                                                        </a>

                                                        <!-- Github链接 -->
                                                        <a v-if="token.metadata?.github" :href="token.metadata.github"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-gray-800 hover:text-gray-900">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">Github</span>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- 分页控件 -->
                        <div class="mt-4 flex justify-between items-center">
                            <!-- 页码息 -->
                            <div class="text-sm text-gray-500">
                                第 {{ isSearchActive ? searchCurrentPage : currentPage }} 页，
                                共 {{ isSearchActive ? searchPages : pages }} 页，
                                总计 {{ isSearchActive ? searchTotal : total }} 条记录
                            </div>

                            <!-- 分页按钮 -->
                            <div class="flex space-x-2">
                                <!-- 上一页 -->
                                <button
                                    @click="handlePageChange(isSearchActive ? searchCurrentPage - 1 : currentPage - 1)"
                                    :disabled="isSearchActive ? searchCurrentPage === 1 : currentPage === 1"
                                    class="px-3 py-1 rounded text-sm"
                                    :class="(isSearchActive ? searchCurrentPage : currentPage) === 1 ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                    上一页
                                </button>

                                <!-- 页码按钮 -->
                                <button v-for="p in isSearchActive ? searchPaginationRange : paginationRange" :key="p"
                                    @click="p !== '...' && handlePageChange(p)" :class="[
                                            'px-3 py-1 rounded text-sm min-w-[32px]',
                                            {
                                                'bg-blue-500 text-white': (isSearchActive ? searchCurrentPage : currentPage) === p,
                                                'bg-white text-blue-500 hover:bg-blue-100': (isSearchActive ? searchCurrentPage : currentPage) !== p && p !== '...',
                                                'bg-gray-100 text-gray-600 cursor-default': p === '...'
                                            }
                                        ]" :disabled="p === '...'">
                                    {{ p }}
                                </button>

                                <!-- 下一页 -->
                                <button
                                    @click="handlePageChange(isSearchActive ? searchCurrentPage + 1 : currentPage + 1)"
                                    :disabled="isSearchActive ? searchCurrentPage === searchPages : currentPage === pages"
                                    class="px-3 py-1 rounded text-sm"
                                    :class="(isSearchActive ? searchCurrentPage === searchPages : currentPage === pages) ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                    下一页
                                </button>
                            </div>
                        </div>
                        <!-- Dev 代币列表 -->
                        <div class="bg-white rounded-lg shadow p-4 mt-4">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-medium text-gray-900">Dev 监控 ({{ devTokens.length }})</h3>
                                <!-- 添加按钮组 -->
                                <div class="flex space-x-2">
                                    <!-- 查看 Dev 列表按钮 -->
                                    <button @click="showDevListModal = true"
                                        class="inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M4 6h16M4 12h16m-7 6h7" />
                                        </svg>
                                        Dev 列表
                                    </button>
                                    <!-- 添加 Dev 按钮 -->
                                    <button @click="showAddDevModal = true"
                                        class="inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-blue-600 hover:bg-blue-700">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 4v16m8-8H4" />
                                        </svg>
                                        添加 Dev
                                    </button>
                                    <!-- 声音提示开关 -->
                                    <div class="flex items-center mr-2">
                                        <span class="text-xs text-gray-600 mr-2">启用声音提示</span>
                                        <button @click="soundEnabled = !soundEnabled"
                                            class="relative inline-flex items-center h-6 rounded-full w-11 transition-colors duration-200 ease-in-out"
                                            :class="{'bg-blue-600': soundEnabled, 'bg-gray-200': !soundEnabled}">
                                            <span class="sr-only">启用声音提示</span>
                                            <span class="translate-x-0 inline-block w-5 h-5 transform bg-white rounded-full transition-transform duration-200 ease-in-out"
                                                :class="{'translate-x-5': soundEnabled, 'translate-x-1': !soundEnabled}"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- 有数据时显示表格 -->
                            <div v-if="devTokens.length > 0">
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead>
                                            <tr>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    代币/地址</th>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    创者（DEV）</th>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    时间</th>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    社交媒体</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr v-for="token in displayedDevTokens" :key="token.mint"
                                                class="hover:bg-gray-50">
                                                <!-- 代币信息 -->
                                                <td class="px-6 py-5 whitespace-nowrap">
                                                    <div class="flex items-center">
                                                        <!-- 代币图标 -->
                                                        <div class="flex-shrink-0 h-10 w-10">
                                                            <img v-if="token.metadata?.image"
                                                                :src="token.metadata.image"
                                                                class="h-10 w-10 rounded-full" :alt="token.symbol"
                                                                @error="handleImageError($event, token)">
                                                            <div v-else
                                                                class="h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center">
                                                                <span class="text-sm text-gray-500">{{
                                                                    token.symbol?.charAt(0) || '?' }}</span>
                                                            </div>
                                                        </div>
                                                        <!-- 代币名称和地址 -->
                                                        <div class="ml-4">
                                                            <div class="text-sm font-medium text-gray-900">{{
                                                                token.symbol }}</div>
                                                            <div class="flex items-center space-x-2">
                                                                <span @click="copyText(token.mint)"
                                                                    class="text-base text-blue-600 hover:text-blue-900 cursor-pointer">
                                                                    {{ formatAddress(token.mint) }}
                                                                </span>

                                                                <!-- GMGN 按钮 -->
                                                                <a :href="'https://gmgn.ai/sol/token/' + token.mint"
                                                                    target="_blank"
                                                                    class="inline-flex items-center justify-center w-5 h-5 min-w-[20px] min-h-[20px] rounded-full bg-gray-100 hover:bg-gray-200 transition-colors"
                                                                    title="在 GMGN 中查看">
                                                                    <img src="/images/gmgn.png" alt="GMGN"
                                                                        class="w-4 h-4 rounded-full"
                                                                        @error="$event.target.src='/images/gmgn-fallback.png'">
                                                                </a>

                                                                <!-- 添加推特搜索按钮 -->
                                                                <a :href="'https://x.com/search?q=' + token.mint"
                                                                    target="_blank"
                                                                    class="inline-flex items-center justify-center w-5 h-5 min-w-[20px] min-h-[20px] rounded-full bg-blue-100 hover:bg-blue-200 transition-colors"
                                                                    title="在 Twitter 中搜索">
                                                                    <img src="/images/x.png" alt="X" class="w-4 h-4">
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>

                                                <!-- 创建者 -->
                                                <td class="px-6 py-5 whitespace-nowrap">
                                                    <div v-if="token.signerAlias" class="text-sm text-gray-700">
                                                        {{ token.signerAlias }}
                                                    </div>
                                                    <div v-else
                                                        class="text-sm text-gray-500 cursor-pointer hover:text-blue-500"
                                                        @click="showEditAlias(token.owner)">
                                                        {{ formatAddress(token.owner) }}
                                                    </div>
                                                </td>

                                                <!-- 时间 -->
                                                <td class="px-6 py-5 whitespace-nowrap text-sm text-gray-500">
                                                    {{ formatTime(token.timestamp) }}
                                                </td>

                                                <!-- 社交媒体 -->
                                                <td class="px-6 py-5 whitespace-nowrap">
                                                    <div class="flex items-center space-x-2">
                                                        <!-- 推特链接 -->
                                                        <a v-if="token.metadata?.twitter" :href="token.metadata.twitter"
                                                            target="_blank" class="social-link inline-flex items-center"
                                                            :class="checkTwitterLink(token.metadata.twitter)">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">推特</span>
                                                        </a>

                                                        <!-- 电报链接 -->
                                                        <a v-if="token.metadata?.telegram"
                                                            :href="token.metadata.telegram" target="_blank"
                                                            class="social-link inline-flex items-center text-blue-500 hover:text-blue-600">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">电报</span>
                                                        </a>

                                                        <!-- 网站链接 -->
                                                        <a v-if="token.metadata?.website" :href="token.metadata.website"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-gray-500 hover:text-gray-600">
                                                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                                    stroke-width="2"
                                                                    d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                                                            </svg>
                                                            <span class="text-xs ml-1">网站</span>
                                                        </a>

                                                        <!-- Discord链接 -->
                                                        <a v-if="token.metadata?.discord" :href="token.metadata.discord"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-indigo-500 hover:text-indigo-600">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">Discord</span>
                                                        </a>

                                                        <!-- Medium链接 -->
                                                        <a v-if="token.metadata?.medium" :href="token.metadata.medium"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-gray-700 hover:text-gray-900">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">Medium</span>
                                                        </a>

                                                        <!-- Github链接 -->
                                                        <a v-if="token.metadata?.github" :href="token.metadata.github"
                                                            target="_blank"
                                                            class="social-link inline-flex items-center text-gray-800 hover:text-gray-900">
                                                            <svg class="w-3.5 h-3.5" fill="currentColor"
                                                                viewBox="0 0 24 24">
                                                                <path
                                                                    d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z" />
                                                            </svg>
                                                            <span class="text-xs ml-1">Github</span>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 分页控件 -->
                                <div class="mt-4 flex justify-between items-center">
                                    <!-- 页码信息 -->
                                    <div class="text-sm text-gray-500">
                                        第 {{ devCurrentPage }} 页，共 {{ devPages }} 页
                                    </div>

                                    <!-- 分页按钮 -->
                                    <div class="flex space-x-2">
                                        <!-- 一页 -->
                                        <button @click="handleDevPageChange(devCurrentPage - 1)"
                                            :disabled="devCurrentPage === 1" class="px-3 py-1 rounded text-sm"
                                            :class="devCurrentPage === 1 ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                            上一页
                                        </button>

                                        <!-- 页码按钮 -->
                                        <button v-for="p in devPaginationRange" :key="p"
                                            @click="p !== '...' && handleDevPageChange(p)" :class="[
                                                    'px-3 py-1 rounded text-sm min-w-[32px]',
                                                    {
                                                        'bg-blue-500 text-white': devCurrentPage === p,
                                                        'bg-white text-blue-500 hover:bg-blue-100': devCurrentPage !== p && p !== '...',
                                                        'bg-gray-100 text-gray-600 cursor-default': p === '...'
                                                    }
                                                ]" :disabled="p === '...'">
                                            {{ p }}
                                        </button>

                                        <!-- 下一页 -->
                                        <button @click="handleDevPageChange(devCurrentPage + 1)"
                                            :disabled="devCurrentPage === devPages" class="px-3 py-1 rounded text-sm"
                                            :class="devCurrentPage === devPages ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                            下一页
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- 无数据时显示空状态 -->
                            <div v-else>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead>
                                            <tr>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    代币/地址</th>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    创建者（Dev）</th>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    时间</th>
                                                <th
                                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    社交媒体</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td colspan="4" class="px-6 py-8 text-center text-gray-500">
                                                    <div class="flex flex-col items-center justify-center">
                                                        <svg class="w-12 h-12 text-gray-400 mb-3" fill="none"
                                                            stroke="currentColor" viewBox="0 0 24 24">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                stroke-width="2"
                                                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                                        </svg>
                                                        <p class="text-sm">无 Dev 数据</p>
                                                        <p class="text-xs text-gray-400 mt-1">点击右上角按钮添加 Dev</p>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 右侧重复代币监控，修改响应式布局 -->
                    <div class="w-full lg:w-80 flex-shrink-0">
                        <div class="bg-white rounded-lg shadow p-4 lg:sticky lg:top-20">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-lg font-semibold">重复代币监控</h2>
                                <span class="text-xs text-gray-500">
                                    最后检测: {{ formatMonitorTime() }}
                                </span>
                            </div>

                            <!-- 添加搜索框 -->
                            <div class="mb-4">
                                <div class="relative">
                                    <input type="text" v-model="duplicateSearchQuery"
                                        @keyup.enter="searchDuplicateTokens" placeholder="搜索代币符号查询分组"
                                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm">
                                    <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                                        <button @click="clearDuplicateSearch" v-if="isDuplicateSearchActive"
                                            class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M6 18L18 6M6 6l12 12"></path>
                                            </svg>
                                        </button>
                                        <button @click="searchDuplicateTokens" v-else
                                            class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- 搜索结果提示 -->
                            <div v-if="isDuplicateSearchActive"
                                class="mb-4 text-sm text-gray-600 flex justify-between items-center">
                                <span>找到 {{ duplicateSearchResults.length }} 个匹配的重复组</span>
                                <button @click="clearDuplicateSearch" class="text-blue-500 hover:text-blue-600 text-sm">
                                    显示所有重复组
                                </button>
                            </div>

                            <!-- 重复代币列表 -->
                            <div class="space-y-4">
                                <div v-for="group in displayedDuplicateTokens" :key="group.groupNumber"
                                    class="p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                                    <!-- 代币基本信息 -->
                                    <div class="flex items-center">
                                        <div class="flex items-center flex-1">
                                            <img :src="group.metadata?.image" :alt="group.symbol"
                                                class="w-10 h-10 rounded-full" @error="handleImageError">
                                            <div class="ml-3">
                                                <div class="font-medium text-gray-900">{{ group.symbol }}</div>
                                            </div>
                                        </div>
                                        <!-- 重复次数 -->
                                        <div class="flex items-center cursor-pointer"
                                            @click="showDuplicateGroupTokens(group)">
                                            <span class="text-sm text-gray-500 text-blue-500 mr-1">重复次数:</span>
                                            <span
                                                class="bg-gray-100 text-sm font-medium text-blue-500 px-2.5 py-0.5 rounded-full hover:bg-gray-200 transition-colors">
                                                {{ group.count }}
                                            </span>
                                        </div>
                                    </div>

                                    <!-- 时间信息 -->
                                    <div class="mt-3 space-y-2 text-xs text-gray-500">
                                        <div class="flex items-center">
                                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <span class="font-medium">最新出现</span>
                                            <span class="ml-1">{{ formatTime(group.latestTime) }}</span>
                                        </div>

                                        <div v-if="group.previousTime" class="flex items-center">
                                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <span class="font-medium">上次出现：</span>
                                            <span class="ml-1">{{ formatTime(group.previousTime) }}</span>
                                        </div>

                                        <div class="flex items-center">
                                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <span class="font-medium">次出现：</span>
                                            <span class="ml-1">{{ formatTime(group.firstTime) }}</span>
                                        </div>
                                    </div>



                                    <!-- 推特链接 -->
                                    <div v-if="group.twitterLink" class="mt-2 flex items-center gap-1">
                                        <!-- 重复类型标签 -->
                                        <div class="text-sm text-gray-500">
                                            <span :class="getDuplicateTypeClass(group.type)" class="px-2 py-1 rounded-full">
                                                {{ getDuplicateTypeText(group.type) }}
                                            </span>
                                        </div>
                                        <a v-if="isFullTwitterLink(group.twitterLink)" :href="group.twitterLink"
                                            target="_blank"
                                            class="inline-flex items-center text-blue-500 hover:text-blue-600">
                                            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                                <path
                                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                            </svg>
                                            <span class="text-xs">推特原文</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- 分页控件 -->
                            <div class="mt-4">
                                <div class="text-xs text-gray-500 mb-2">
                                    第 {{ isDuplicateSearchActive ? duplicateSearchPage : duplicateCurrentPage }} 页，
                                    共 {{ isDuplicateSearchActive ? duplicateSearchTotalPages : duplicateTotalPages }} 页
                                </div>
                                <div class="flex flex-wrap gap-1">
                                    <button
                                        @click="handleDuplicatePageChange(isDuplicateSearchActive ? duplicateSearchPage - 1 : duplicateCurrentPage - 1)"
                                        :disabled="isDuplicateSearchActive ? duplicateSearchPage === 1 : duplicateCurrentPage === 1"
                                        class="px-2 py-1 rounded text-xs"
                                        :class="(isDuplicateSearchActive ? duplicateSearchPage : duplicateCurrentPage) === 1 ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                        上一页
                                    </button>
                                    <button v-for="p in duplicatePaginationRange" :key="p"
                                        @click="p !== '...' && handleDuplicatePageChange(p)"
                                        class="px-2 py-1 rounded text-xs min-w-[24px] text-center" :class="{
                                            'bg-blue-500 text-white': (isDuplicateSearchActive ? duplicateSearchPage : duplicateCurrentPage) === p,
                                            'bg-white text-blue-500 hover:bg-blue-100': (isDuplicateSearchActive ? duplicateSearchPage : duplicateCurrentPage) !== p && p !== '...',
                                            'bg-gray-100 text-gray-600 cursor-default': p === '...'
                                        }" :disabled="p === '...'">
                                        {{ p }}
                                    </button>
                                    <button
                                        @click="handleDuplicatePageChange(isDuplicateSearchActive ? duplicateSearchPage + 1 : duplicateCurrentPage + 1)"
                                        :disabled="isDuplicateSearchActive ? duplicateSearchPage === duplicateSearchTotalPages : duplicateCurrentPage === duplicateTotalPages"
                                        class="px-2 py-1 rounded text-xs"
                                        :class="(isDuplicateSearchActive ? duplicateSearchPage === duplicateSearchTotalPages : duplicateCurrentPage === duplicateTotalPages) ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                        下一页
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 钱包监控列表 - 添加外边距和内边距 -->
                <div class="mt-8">
                    <div class="bg-white rounded-lg shadow">
                        <div class="p-6">
                            <!-- 在钱包监控标题旁边添加声音开关 -->
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-lg font-medium text-gray-900">钱包监控</h3>
                                <div class="flex items-center space-x-2">
                                    <!-- 添加声音开关 -->
                                    <div class="flex items-center mr-4">
                                        <span class="text-xs text-gray-600 mr-2">启用声音提示</span>
                                        <button @click="walletSoundEnabled = !walletSoundEnabled" 
                                            class="relative inline-flex items-center h-6 rounded-full w-11 transition-colors duration-200 ease-in-out"
                                            :class="{'bg-blue-600': walletSoundEnabled, 'bg-gray-200': !walletSoundEnabled}">
                                            <span class="sr-only">启用声音提示</span>
                                            <span class="translate-x-0 inline-block w-5 h-5 transform bg-white rounded-full transition-transform duration-200 ease-in-out"
                                                :class="{'translate-x-5': walletSoundEnabled, 'translate-x-1': !walletSoundEnabled}"></span>
                                        </button>
                                    </div>
                                    <!-- 添加钱包按钮 -->
                                    <button @click="showAddWalletModal = true"
                                        class="inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-blue-600 hover:bg-blue-700">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                        </svg>
                                        添加钱包
                                    </button>
                                </div>
                            </div>

                            <!-- 钱包监控内容 -->
                            <div class="flex gap-6">
                                <!-- 左侧钱包列表 -->
                                <div class="w-64 flex-shrink-0">
                                    <div class="bg-gray-50 rounded-lg p-3">
                                        <div id="walletList" class="space-y-2">
                                            <!-- 全部交易选项 -->
                                            <div class="cursor-pointer p-2 rounded-lg hover:bg-gray-100 transition-colors"
                                                :class="{'bg-blue-50': currentWalletAddress === 'all'}"
                                                @click="selectWallet('all')">
                                                <h6 class="text-sm font-medium">全部交易</h6>
                                                <small class="text-xs text-gray-500">显示所有钱包的交易记录</small>
                                            </div>
                                            <!-- 单个钱包项 -->
                                            <div v-for="wallet in wallets" :key="wallet.walletAddress"
                                                class="cursor-pointer p-2 rounded-lg hover:bg-gray-100 transition-colors"
                                                :class="{'bg-blue-50': currentWalletAddress === wallet.walletAddress}"
                                                @click="selectWallet(wallet.walletAddress)">
                                                <div class="flex justify-between items-center">
                                                    <div>
                                                        <h6 class="text-sm font-medium">{{ wallet.walletName }}</h6>
                                                        <small class="text-xs text-gray-500">{{ formatAddress(wallet.walletAddress) }}</small>
                                                    </div>
                                                    <div class="flex space-x-1">
                                                        <!-- 将编辑按钮的点击事件从 showEditWalletModal 改为 openEditWalletModal -->
                                                        <button @click.stop="openEditWalletModal(wallet)"
                                                            class="p-1 text-gray-500 hover:text-blue-600">
                                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                                    d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                                                            </svg>
                                                        </button>
                                                        <button @click.stop="deleteWallet(wallet.walletAddress)"
                                                            class="p-1 text-gray-500 hover:text-red-600">
                                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 右侧交易记录 -->
                                <div class="flex-1">
                                    <!-- 统计卡片 -->
                                    <div v-if="currentWalletAddress && currentWalletAddress !== 'all'"
                                        class="grid grid-cols-4 gap-4 mb-4">
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="text-sm text-gray-500">总交易次数</div>
                                            <div class="text-xl font-semibold mt-1">{{ walletStats.totalTransactions }}</div>
                                        </div>
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="text-sm text-gray-500">买入次数</div>
                                            <div class="text-xl font-semibold mt-1 text-green-600">{{ walletStats.buyCount }}</div>
                                        </div>
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="text-sm text-gray-500">卖出次数</div>
                                            <div class="text-xl font-semibold mt-1 text-red-600">{{ walletStats.sellCount }}</div>
                                        </div>
                                        <div class="bg-gray-50 rounded-lg p-4">
                                            <div class="text-sm text-gray-500">总SOL金额</div>
                                            <div class="text-xl font-semibold mt-1">{{ walletStats.totalSolAmount.toFixed(4) }}</div>
                                        </div>
                                    </div>

                                    <!-- 交易记录表格 -->
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full divide-y divide-gray-200">
                                            <thead class="bg-gray-50">
                                                <tr>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        钱包名称</th>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        时间</th>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        代币</th>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        方向</th>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        数量</th>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        SOL金额</th>
                                                    <th scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                        状态</th>
                                                </tr>
                                            </thead>
                                            <tbody class="bg-white divide-y divide-gray-200">
                                                <tr v-for="tx in transactions" :key="tx.signature" class="hover:bg-gray-50 cursor-pointer"
                                                    @click="showTransactionDetails(tx)">
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="text-sm font-medium text-gray-900">{{ getWalletName(tx.walletAddress) }}</div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="text-sm text-gray-500">{{ formatTime(tx.timestamp) }}</div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <div class="text-sm font-medium text-gray-900">{{ tx.tokenSymbol }}</div>
                                                        <div class="text-xs text-gray-500">{{ formatAddress(tx.tokenAddress) }}</div>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span :class="[
                                                            'px-2 py-1 text-xs font-medium rounded-full',
                                                            tx.direction === '买入' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                                        ]">
                                                            {{ tx.direction }}
                                                        </span>
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                        {{ tx.amount.toFixed(4) }}
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                                        {{ Math.abs(tx.solAmount).toFixed(4) }}
                                                    </td>
                                                    <td class="px-6 py-4 whitespace-nowrap">
                                                        <span :class="[
                                                            'px-2 py-1 text-xs font-medium rounded-full',
                                                            tx.status === '成功' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                                        ]">
                                                            {{ tx.status }}
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <!-- 分页控件 -->
                                    <div class="mt-4 flex justify-between items-center">
                                        <div class="text-sm text-gray-500">
                                            第 {{ currentPage }} 页，共 {{ totalPages }} 页
                                        </div>
                                        <div class="flex space-x-2">
                                            <button @click="handlePageChange(currentPage - 1)" :disabled="currentPage === 1"
                                                class="px-3 py-1 rounded text-sm"
                                                :class="currentPage === 1 ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                                上一页
                                            </button>
                                            <button v-for="p in paginationRange" :key="p"
                                                @click="p !== '...' && handlePageChange(p)"
                                                :class="[
                                                    'px-3 py-1 rounded text-sm min-w-[32px]',
                                                    {
                                                        'bg-blue-500 text-white': currentPage === p,
                                                        'bg-white text-blue-500 hover:bg-blue-100': currentPage !== p && p !== '...',
                                                        'bg-gray-100 text-gray-600 cursor-default': p === '...'
                                                    }
                                                ]"
                                                :disabled="p === '...'">
                                                {{ p }}
                                            </button>
                                            <button @click="handlePageChange(currentPage + 1)"
                                                :disabled="currentPage === totalPages"
                                                class="px-3 py-1 rounded text-sm"
                                                :class="currentPage === totalPages ? 'bg-gray-100 text-gray-400' : 'bg-white text-blue-500 hover:bg-blue-100'">
                                                下一页
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 添加别名编辑模态框 -->
        <div v-if="showAliasModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 w-96">
                <h3 class="text-lg font-medium mb-4">编辑地址别名</h3>
                <input type="text" v-model="aliasInput" class="w-full px-3 py-2 border rounded-lg mb-4"
                    placeholder="输入别名">
                <div class="flex justify-end space-x-2">
                    <button @click="showAliasModal = false"
                        class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                        取消
                    </button>
                    <button @click="saveAlias" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                        保存
                    </button>
                </div>
            </div>
        </div>

        <!-- 添加 Dev 模态框 -->
        <div v-if="showAddDevModal"
            class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                <!-- 模态框头部 -->
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">添加 Dev 地址</h3>
                    <button @click="showAddDevModal = false" class="text-gray-400 hover:text-gray-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                        </svg>
                    </button>
                </div>

                <div class="space-y-4">
                    <!-- Dev 地址输入 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700">DEV 地址</label>
                        <input type="text" v-model="newDev.address" @input="checkDevAddress"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        <p v-if="devAddressExists" class="mt-1 text-sm text-red-600">
                            该地址已存在别名：{{ existingAlias }}
                        </p>
                    </div>

                    <!-- 别名输入 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700">别名</label>
                        <input type="text" v-model="newDev.alias"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    </div>

                    <!-- 错误提示 -->
                    <p v-if="devAddError" class="text-sm text-red-600">{{ devAddError }}</p>

                    <!-- 按钮组 -->
                    <div class="flex justify-end space-x-3 mt-4">
                        <button @click="showAddDevModal = false"
                            class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">
                            取消
                        </button>
                        <button @click="addNewDev" :disabled="devAddressExists" :class="[
                                    'px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white',
                                    devAddressExists ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'
                                ]">
                            确认添加
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dev 列表模态框 -->
        <div v-if="showDevListModal"
            class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 max-w-lg w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">已添加的 Dev 列表</h3>
                    <button @click="showDevListModal = false" class="text-gray-400 hover:text-gray-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <!-- 添加搜索框 -->
                <div class="mb-4">
                    <div class="relative">
                        <input type="text" v-model="devSearchQuery" placeholder="搜索地址或别名"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm">
                        <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                            <button @click="devSearchQuery = ''" v-if="devSearchQuery"
                                class="text-gray-400 hover:text-gray-600">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="mt-4 space-y-2 max-h-96 overflow-y-auto">
                    <div v-for="alias in filteredDevList" :key="alias.address"
                        class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                        <div>
                            <div class="text-sm font-medium text-gray-900">{{ alias.alias }}</div>
                            <div class="text-xs text-gray-500">{{ formatAddress(alias.address) }}</div>
                        </div>
                        <button @click="copyAddress(alias.address)" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                            </svg>
                        </button>
                    </div>
                    <!-- 无搜索结果提示 -->
                    <div v-if="devSearchQuery && filteredDevList.length === 0" class="text-center py-4 text-gray-500">
                        未找到匹配的 Dev 地址
                    </div>
                </div>
            </div>
        </div>

        <!-- 左侧打赏按钮 暂时注释关闭-->
        <!-- <button @click="showDonateModal = true"
            class="fixed left-4 bottom-4 inline-flex items-center px-4 py-2 text-base font-medium text-gray-700 bg-white hover:bg-gray-50 rounded-lg border border-gray-300 shadow-md transition-all hover:shadow-lg">
            <svg class="w-5 h-5 mr-2 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                <path
                    d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" />
            </svg>
            支持作者
        </button> -->

        <!-- 右侧打赏按钮 -->
        <!-- <button @click="showDonateModal = true"
            class="fixed right-4 bottom-4 inline-flex items-center px-4 py-2 text-base font-medium text-gray-700 bg-white hover:bg-gray-50 rounded-lg border border-gray-300 shadow-md transition-all hover:shadow-lg">
            <svg class="w-5 h-5 mr-2 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                <path
                    d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" />
            </svg>
            支持作者
        </button> -->

        <!-- 打赏模态框 -->
        <div v-if="showDonateModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                <!-- 模态框头部 -->
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">为服务器续航，感谢您的支持！</h3>
                    <button @click="showDonateModal = false" class="text-gray-400 hover:text-gray-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <!-- 打赏方式选择 -->
                <div class="mb-4">
                    <div class="flex space-x-4 mb-4">
                        <button v-for="method in donateMethods" :key="method.id"
                            @click="currentDonateMethod = method.id"
                            class="flex-1 py-2 px-4 rounded-md text-sm font-medium"
                            :class="currentDonateMethod === method.id ? 'bg-blue-50 text-blue-700 border-blue-200' : 'bg-gray-50 text-gray-600 border-gray-200'">
                            {{ method.name }}
                        </button>
                    </div>
                </div>

                <!-- 二维码显示区域 -->
                <div class="flex justify-center mb-4">
                    <div class="relative w-96 h-96">
                        <img v-for="method in donateMethods" :key="method.id" :src="method.qrcode" :alt="method.name"
                            class="absolute top-0 left-0 w-full h-full object-contain transition-opacity duration-200"
                            :class="currentDonateMethod === method.id ? 'opacity-100' : 'opacity-0'">
                    </div>
                </div>

                <!-- 提示文字优化 -->
                <p class="text-sm text-gray-500 text-center mt-4">
                    <span class="block mb-1 font-medium text-gray-700">为服务器续航，提供更稳定的服务</span>
                    <span class="block mb-1 font-medium text-gray-700">赚钱了，在力所能及的情况下可以支持一下感谢！</span>
                </p>
            </div>
        </div>

        <!-- 添加钱包模态框 -->
        <div v-if="showAddWalletModal"
            class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">添加监控钱包</h3>
                    <button @click="showAddWalletModal = false" class="text-gray-400 hover:text-gray-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">钱包地址</label>
                        <input type="text" v-model="newWallet.address" @input="checkWalletAddress"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        <p v-if="walletAddressExists" class="mt-1 text-sm text-red-600">
                            该钱包地址已存在，名称为：{{ existingWalletName }}
                        </p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">钱包名称</label>
                        <input type="text" v-model="newWallet.name"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    </div>
                    <div class="flex items-center space-x-4">
                        <label class="flex items-center">
                            <input type="checkbox" v-model="newWallet.monitorBuy"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">监控买入</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" v-model="newWallet.monitorSell"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">监控卖出</span>
                        </label>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button @click="showAddWalletModal = false"
                            class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">
                            取消
                        </button>
                        <button @click="addWallet" :disabled="walletAddressExists"
                            class="px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white"
                            :class="walletAddressExists ? 'bg-gray-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'">
                            确认添加
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 编辑钱包模态框 -->
        <div v-if="showEditWalletModal"
            class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">编辑钱包</h3>
                    <button @click="closeEditWalletModal" class="text-gray-400 hover:text-gray-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">钱包名称</label>
                        <input type="text" v-model="editingWallet.walletName"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    </div>
                    <div class="flex items-center space-x-4">
                        <label class="flex items-center">
                            <input type="checkbox" v-model="editingWallet.monitorBuy"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">监控买入</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" v-model="editingWallet.monitorSell"
                                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="ml-2 text-sm text-gray-700">监控卖出</span>
                        </label>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button @click="closeEditWalletModal"
                            class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">
                            取消
                        </button>
                        <button @click="updateWallet"
                            class="px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700">
                            确认修改
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 交易详情模态框 -->
        <div v-if="showTransactionDetailsModal"
            class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium text-gray-900">交易详情</h3>
                    <button @click="showTransactionDetailsModal = false"
                        class="text-gray-400 hover:text-gray-500">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">钱包名称</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ getWalletName(selectedTransaction?.walletAddress) }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">钱包地址</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ selectedTransaction?.walletAddress }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">交易时间</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ formatTime(selectedTransaction?.timestamp) }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">代币符号</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ selectedTransaction?.tokenSymbol }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">代币名称</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ selectedTransaction?.tokenName }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">代币地址</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ selectedTransaction?.tokenAddress }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">交易方向</label>
                            <div class="mt-1">
                                <span :class="[
                                    'px-2 py-1 text-xs font-medium rounded-full',
                                    selectedTransaction?.direction === '买入' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                ]">
                                    {{ selectedTransaction?.direction }}
                                </span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">交易数量</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ selectedTransaction?.amount.toFixed(4) }}
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">SOL数量</label>
                            <div class="mt-1 text-sm text-gray-900">
                                {{ Math.abs(selectedTransaction?.solAmount).toFixed(4) }} SOL
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">交易状态</label>
                            <div class="mt-1">
                                <span :class="[
                                    'px-2 py-1 text-xs font-medium rounded-full',
                                    selectedTransaction?.status === '成功' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                ]">
                                    {{ selectedTransaction?.status }}
                                </span>
                            </div>
                        </div>
                        <div class="col-span-2">
                            <label class="block text-sm font-medium text-gray-700">交易签名</label>
                            <div class="mt-1 text-sm text-gray-900 break-all">
                                {{ selectedTransaction?.signature }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>

    <!-- WebSocket连接 -->
    <script>
        const ws = new WebSocket(`ws://${window.location.host}`);
        ws.onmessage = function(event) {
            try {
                const data = JSON.parse(event.data);
                if (data.type === 'onlineCount') {
                    // 通过 Vue 的响应式系统更新在线人数
                    if (window.app) {
                        window.app.onlineUsers = data.data;
                    }
                }
            } catch (error) {
                console.error('WebSocket消息处理错误:', error);
            }
        };

        // 发送心跳
        setInterval(() => {
            if (ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({ type: 'heartbeat' }));
            }
        }, 30000);

        // 重连机制
        ws.onclose = function() {
            console.log('WebSocket连接已关闭，尝试重新连接...');
            setTimeout(() => {
                window.location.reload();
            }, 5000);
        };
    </script>
</body>

</html>